import{c as o,d as y,e as k,j as s,t as S,N as T,V as O,Q as $,Z as H,y as x,a as V,i,G as d,k as a,l as f,W as F,$ as N,O as w,o as j,P as q,F as P,A as U,a0 as z,T as v,z as A,f as D,g as E,X as G,Y as Q,n as W,L as X}from"./index-24e52069.js";import{B as Y}from"./Burger-191bee0a.js";import{B as Z}from"./Breadcrumb-56319e47.js";import{T as J,a as K,_ as ee,S as B,A as ne,b as se,L as te}from"./LayoutFooter-71715c7f.js";import{_ as M}from"./plugin-vueexport-helper-c27b6911.js";import{_ as oe}from"./LayoutMain-b25cc661.js";const ae={class:"fv-header-double-aside flex items-center justify-between"},le={class:"h-full flex items-center"},ue={class:"flex items-center mr-5 h-full"},ce={__name:"LayoutHeader",setup(C){return(u,r)=>(o(),y("div",ae,[k("div",le,[s(Y),s(Z,{style:{"margin-left":"8px"}})]),k("div",ue,[s(J,{class:"mr-1"}),s(K)])]))}},re=M(ce,[["__scopeId","data-v-564ec994"]]);const ie={__name:"SubMenu",emits:["subMenuOpen","subMenuClose"],setup(C,{emit:u}){const r=u,c=S(),g=T(),p=O([]),l=$(()=>c.appConfig.menuIsCollapse);return H(()=>{x.on("onAMainMenuChange",h=>{p.value=h})}),V(()=>{x.off("onAMainMenuChange")}),(h,e)=>{const t=i("el-menu");return o(),d(t,{"collapse-transition":f(c).appConfig.enableCollapseTransition,"default-active":f(g).path,router:"",collapse:l.value,"unique-opened":f(c).appConfig.subMenuUniqueOpened,onOpen:e[0]||(e[0]=n=>r("subMenuOpen")),onClose:e[1]||(e[1]=n=>r("subMenuClose"))},{default:a(()=>[s(ee,{routes:p.value},null,8,["routes"])]),_:1},8,["collapse-transition","default-active","collapse","unique-opened"])}}},_e=M(ie,[["__scopeId","data-v-8339e18f"]]);const de={key:0,class:"flex flex-col items-center gap-y-1"},fe={__name:"MainMenu",setup(C){const u=S(),r=F(),c=N([]),g=T(),p=w(""),l={initMainMenus(e){e.forEach(t=>{l.showMenuItem(t)?c.push(t):l.showChildren(t)&&l.initMainMenus(t.children)})},showMenuItem({meta:e}){return e!=null&&e.isHide||e!=null&&e.roles&&!hasRole(e==null?void 0:e.roles)?!1:!!e},showChildren({children:e,meta:t}){if(e){if(t&&t.hideChildren)return!1}else return!1;return!0},menuItemClick(e){e.children&&e.children.length?x.emit("onAMainMenuChange",e.children):(E.push(e.path),x.emit("onAMainMenuChange",[]))},findRootPath(e,t){for(const n of e)if(n.path===t){p.value=t,this.menuItemClick(n);break}else if(n.children&&n.children.length&&this.dfs(n.children,t)){p.value=n.path,this.menuItemClick(n);break}},dfs(e,t){for(const n of e){if(n.path===t)return n;if(n.children&&n.children.length){const m=this.dfs(n.children,t);if(m)return m}}}},h=$(()=>u.appConfig.isMainMenuShowTitle);return j(()=>{l.initMainMenus(r.menus||[]),q(()=>g.path,e=>{l.findRootPath(c,e)},{immediate:!0})}),(e,t)=>{const n=i("el-icon"),m=i("el-menu-item"),R=i("el-menu");return o(),d(R,{"default-active":p.value,collapse:""},{default:a(()=>[(o(!0),y(P,null,U(f(c),_=>(o(),d(m,{key:_.path,index:_.path,onClick:b=>l.menuItemClick(_)},z({default:a(()=>{var b,L,I;return[h.value?(o(),y("div",de,[(b=_.meta)!=null&&b.icon?(o(),d(n,{key:0},{default:a(()=>[s(B,{name:_.meta.icon},null,8,["name"])]),_:2},1024)):v("",!0),k("span",null,A(e.$t((L=_.meta)==null?void 0:L.title)),1)])):v("",!0),(I=_.meta)!=null&&I.icon&&!h.value?(o(),d(n,{key:1},{default:a(()=>[s(B,{name:_.meta.icon},null,8,["name"])]),_:2},1024)):v("",!0)]}),_:2},[h.value?void 0:{name:"title",fn:a(()=>{var b;return[D(A(e.$t((b=_.meta)==null?void 0:b.title)),1)]}),key:"0"}]),1032,["index","onClick"]))),128))]),_:1},8,["default-active"])}}},pe=M(fe,[["__scopeId","data-v-a0ea6683"]]);const he={class:"fv-aside"},me={key:0,class:"flex items-center shrink-0 fv-aside-logo"},ve={class:"flex flex-1 shrink-0 fv-menu-double-side",style:{height:"calc(100% - var(--fv-header-height))"}},ge={__name:"LayoutAside",setup(C){const u=S(),r=w();function c(){setTimeout(()=>{r.value.update()},300)}return(g,p)=>{const l=i("el-scrollbar");return o(),y("div",he,[f(u).appConfig.showLogo?(o(),y("div",me,[s(ne)])):v("",!0),k("div",ve,[s(l,{class:"fv-main-menu"},{default:a(()=>[s(pe)]),_:1}),s(l,{ref_key:"scrollbar",ref:r,class:"fv-sub-menu"},{default:a(()=>[s(_e,{onSubMenuOpen:c,onSubMenuClose:c})]),_:1},512)])])}}},be=M(ge,[["__scopeId","data-v-2318e177"]]);const ye=X({name:"DoubleAsideLayout"}),Me=Object.assign(ye,{setup(C){G(g=>({c1c082be:c.value}));const u=S(),r=w(),c=$(()=>u.appConfig.showFooter?"var(--fv-footer-heigth)":0);return Q(()=>{setTimeout(()=>{r.value.update()},500)}),(g,p)=>{const l=i("el-aside"),h=i("el-header"),e=i("el-scrollbar"),t=i("el-main"),n=i("el-backtop"),m=i("el-container");return o(),d(m,{class:"h-screen w-screen"},{default:a(()=>[s(l,{width:"auto"},{default:a(()=>[s(be)]),_:1}),s(m,null,{default:a(()=>[s(h,{style:{padding:"0"},class:W(f(u).appConfig.isTabs?"fv-tab-header":"fv-header")},{default:a(()=>[s(re),f(u).appConfig.isTabs?(o(),d(se,{key:0})):v("",!0)]),_:1},8,["class"]),s(t,{class:"fv-el-main"},{default:a(()=>[s(e,{ref_key:"scrollbar",ref:r,class:"fv-main"},{default:a(()=>[s(oe)]),_:1},512),f(u).appConfig.showFooter?(o(),d(te,{key:0})):v("",!0)]),_:1}),f(u).appConfig.enableBacktop?(o(),d(n,{key:0,right:40,bottom:40,target:".fv-main>.el-scrollbar__wrap"})):v("",!0)]),_:1})]),_:1})}}}),Le=M(Me,[["__scopeId","data-v-b1f6812c"]]);export{Le as default};
