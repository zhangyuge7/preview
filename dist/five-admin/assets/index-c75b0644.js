import{W as L,$ as S,N as $,O as x,o as B,P as H,i,c as r,G as h,k as l,d as y,F as T,A as V,l as d,f as R,z as A,j as s,T as g,y as M,g as z,e as w,t as k,V as O,Q as I,Z as F,a as N,X as q,Y as P,n as U}from"./index-c3c82461.js";import{S as j,T as E,a as D,_ as G,A as Q,b as W,L as X}from"./LayoutFooter-66f34b04.js";import{_ as C}from"./_plugin-vue_export-helper-c27b6911.js";import{B as Y}from"./Burger-7523a22f.js";import{_ as Z}from"./LayoutMain-e9b550dd.js";const J={__name:"HorizontalMenu",setup(b){const a=L(),o=S([]),_=$(),f=x(""),c={initMainMenus(e){e.forEach(t=>{c.showMenuItem(t)?o.push(t):c.showChildren(t)&&c.initMainMenus(t.children)})},showMenuItem({meta:e}){return e!=null&&e.isHide||e!=null&&e.roles&&!hasRole(e==null?void 0:e.roles)?!1:!!e},showChildren({children:e,meta:t}){if(e){if(t&&t.hideChildren)return!1}else return!1;return!0},menuItemClick(e){e.children&&e.children.length?M.emit("onMainMenuChange",e.children):(z.push(e.path),M.emit("onMainMenuChange",[]))},findRootPath(e,t){for(const n of e)if(n.path===t){f.value=t,this.menuItemClick(n);break}else if(n.children&&n.children.length&&this.dfs(n.children,t)){f.value=n.path,this.menuItemClick(n);break}},dfs(e,t){for(const n of e){if(n.path===t)return n;if(n.children&&n.children.length){const p=this.dfs(n.children,t);if(p)return p}}}};return B(()=>{c.initMainMenus(a.menus||[]),H(()=>_.path,e=>{c.findRootPath(o,e)},{immediate:!0})}),(e,t)=>{const n=i("el-icon"),p=i("el-menu-item"),v=i("el-menu");return r(),h(v,{mode:"horizontal","default-active":f.value},{default:l(()=>[(r(!0),y(T,null,V(d(o),u=>(r(),h(p,{key:u.path,index:u.path,onClick:m=>c.menuItemClick(u)},{title:l(()=>{var m;return[R(A(e.$t((m=u.meta)==null?void 0:m.title)),1)]}),default:l(()=>{var m;return[(m=u.meta)!=null&&m.icon?(r(),h(n,{key:0},{default:l(()=>[s(j,{name:u.meta.icon},null,8,["name"])]),_:2},1024)):g("",!0)]}),_:2},1032,["index","onClick"]))),128))]),_:1},8,["default-active"])}}},K=C(J,[["__scopeId","data-v-54ad3167"]]);const ee={class:"fv-header-mixture-nav flex items-center justify-between"},ne={class:"h-full flex items-center flex-1"},te={class:"flex items-center h-full mr-2 flex-shrink-0 fv-tools-mixture-nav"},se={__name:"LayoutHeader",setup(b){return(a,o)=>(r(),y("div",ee,[w("div",ne,[s(Y,{class:"fv-burger--mixture-nav"}),s(K,{class:"flex-1"})]),w("div",te,[s(E,{class:"mr-1"}),s(D)])]))}},oe=C(se,[["__scopeId","data-v-71a8824c"]]);const ae={__name:"VerticalMenu",emits:["subMenuOpen","subMenuClose"],setup(b,{emit:a}){const o=a,_=k(),f=$(),c=O([]),e=I(()=>_.appConfig.menuIsCollapse);return F(()=>{M.on("onMainMenuChange",t=>{c.value=t})}),N(()=>{M.off("onMainMenuChange")}),(t,n)=>{const p=i("el-menu");return r(),h(p,{"collapse-transition":d(_).appConfig.enableCollapseTransition,"default-active":d(f).path,router:"",collapse:e.value,"unique-opened":d(_).appConfig.subMenuUniqueOpened,onOpen:n[0]||(n[0]=v=>o("subMenuOpen")),onClose:n[1]||(n[1]=v=>o("subMenuClose"))},{default:l(()=>[s(G,{routes:c.value},null,8,["routes"])]),_:1},8,["collapse-transition","default-active","collapse","unique-opened"])}}},le=C(ae,[["__scopeId","data-v-e487647f"]]);const re={class:"fv-aside"},ce={key:0,class:"fv-aside-logo flex items-center shrink-0"},ie={__name:"LayoutAside",setup(b){const a=k(),o=x();function _(){setTimeout(()=>{o.value.update()},300)}return(f,c)=>{const e=i("el-scrollbar");return r(),y("div",re,[d(a).appConfig.showLogo?(r(),y("div",ce,[s(Q)])):g("",!0),s(e,{ref_key:"scrollbar",ref:o,class:"fv-aside-scrollbar"},{default:l(()=>[s(le,{onSubMenuOpen:_,onSubMenuClose:_})]),_:1},512)])}}},_e=C(ie,[["__scopeId","data-v-1f983481"]]);const ue={__name:"index",setup(b){q(f=>({"32c8891e":_.value}));const a=k(),o=x(),_=I(()=>a.appConfig.showFooter?"var(--fv-footer-heigth)":0);return P(()=>{setTimeout(()=>{o.value.update()},500)}),(f,c)=>{const e=i("el-aside"),t=i("el-header"),n=i("el-scrollbar"),p=i("el-main"),v=i("el-backtop"),u=i("el-container");return r(),h(u,{class:"h-screen w-screen"},{default:l(()=>[s(e,{width:"auto"},{default:l(()=>[s(_e)]),_:1}),s(u,null,{default:l(()=>[s(t,{style:{padding:"0"},class:U(d(a).appConfig.isTabs?"fv-tab-header":"fv-header")},{default:l(()=>[s(oe),d(a).appConfig.isTabs?(r(),h(W,{key:0})):g("",!0)]),_:1},8,["class"]),s(p,{class:"fv-el-main"},{default:l(()=>[s(n,{ref_key:"scrollbar",ref:o,class:"fv-main"},{default:l(()=>[s(Z)]),_:1},512),d(a).appConfig.showFooter?(r(),h(X,{key:0})):g("",!0)]),_:1}),d(a).appConfig.enableBacktop?(r(),h(v,{key:0,right:40,bottom:40,target:".fv-main>.el-scrollbar__wrap"})):g("",!0)]),_:1})]),_:1})}}},ve=C(ue,[["__scopeId","data-v-b87c14de"]]);export{ve as default};
